### 面试一

1、如何实现自定义格式返回的Controller
https://www.cnblogs.com/goloving/p/15045736.html
2、AOP的设计在spring的源码中有哪些实现？

![image-20220315230355518](https://gitee.com/qianchao_repo/pic-typora/raw/master/img/202203152303741.png)

3、强弱软虚，举个例子说明一下
4、B树和B+树的区别
5、JVM的功能
6、线程内如何共享一个变量？ThreadLocal是如何实现的？
7、分布式锁有哪些解决方案，seata是基于什么实现的？
8、B树和B+树的区别
9、MYSQL如何识别提交的数据库操作是同一个事物？binlog
10、怎么让spring报循环依赖的错误？把类的构造方法传入注入的类
11、@Transaction的方法必须是public吗？一个类中有AB两个方法，B方法有事物注解，A方法中调用this.B方法，B方法的事物生效吗？

因为@Transaction注解实现原理是AOP，自身调用不会产生代理对象，AOP无法织入，所以会失效。
12、@Resource和@Autowired的区别，@Resource装配顺序，能描述一下@Autowired可能出现的异常及解决办法吗？

![image-20220315230438734](https://gitee.com/qianchao_repo/pic-typora/raw/master/img/202203152304868.png)

@Autowired默认按类型装配（这个注解是属业spring的），默认情况下必须要求依赖对象必须存在，如果要允许null值，可以设置它的required属性为false
@Autowired是根据类型进行自动装配的。如果当Spring上下文中存在不止一个UserDao类型的bean时，就会抛出BeanCreationException异常;如果Spring上下文中不存在UserDao类型的bean，也会抛出BeanCreationException异常。我们可以使用@Qualifier配合@Autowired来解决这些问题

13、如何创建带参数的线程？
一、通过构造方法向线程传递数据 
二、通过变量和方法向线程传递数据
三、在线程内部调用回调方法向外传递数据

![image-20220315230423605](https://gitee.com/qianchao_repo/pic-typora/raw/master/img/202203152304768.png)


14、Redis是如何实现分布式锁的，原理知道吗

15、你用过Redis的existsKey方法吗？这个方法会有什么问题
原子操作的问题，并发安全问题

---

### 面试二：借贷宝

#### 2022年3月7日 借贷宝一面

1. 项目难点
2. 在项目中的工作职责
3. redis 缓存一致性怎么做的
4. 线程池原理
5. 锁怎么去实现
6. dubbo超时机制怎么做的, dubbo请求响应怎么关联的
7. 设计模式/ 状态模式
8. 限流怎么做的
9. 请求没有设置超时时间 系统会出现什么问题

#### 2022年3月8日 借贷宝二面

1. 项目难点(狂问项目) 
2. 分库分表怎么做
3. abc三个接口 ab接口有响应,b接口转圈怎么排查 
4. mysql 锁,mvcc,binlog, 慢sql怎么排查 
5. zk一致性协议,zk作为dubbo的注册中心在里面放了些啥
6. dubbo底层超时时间怎么做的, dubbo 接口超时时间怎么配置, dubbo线程池怎么配置的 
7. 项目中用的设计模式 
8. rocketmq 重复消费问题, 多group消费,单个group消费失败消息怎么重发的
9. 两个文件,比对相同的url,将相同的url放在新文件中怎么做 
10. 加密算法