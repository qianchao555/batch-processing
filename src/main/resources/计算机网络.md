## 计算机网络

---



### DNS协议

DNS协议是基于UDP的应用层协议，它的功能是根据用户输入的域名，解析出该域名对应的IP地址，从而给客户端进行访问

#### DNS解析过程

1. 用户在浏览器输入www.baidu.com域名后，操作系统会先检查自己本地的hosts文件是否有这个网址的映射关系，如果有就先调用这个IP地址映射，完成域名解析
2. 如果hosts里面没有这个域名的映射关系，则查找本地DNS解析器缓存中是否有这个网址的映射关系，如果有则直接返回，完成域名解析
3. 若hosts与本地DNS解析器缓存都没有相应的网址映射关系，则首先会查找TCP/IP参数中设置的首先DNS服务器，称之它为本地DNS服务器，此服务器收到查询请求时，如果要查询的域名包含在本地配置区域资源中，则返回解析结果给客户端，完成域名解析，此解析具有权威性
4. 若要查询的域名，不是由本地DNS服务器区域解析，但该服务器已缓存了此网址的映射关系，则调用这个IP地址映射，完成域名解析，此解析不具有权威性
5. 如果本地DNS服务器区域解析文件与缓存解析都失败，则根据DNS服务器的设置(是否设置转发器)进行查询，如果未设置转发模式，本地DNS就把请求发送至13台根DNS，根DNS服务器收到请求后会判断这个域名(.com)是谁来授权管理，并会返回一个负责该顶级域名服务器的一个IP。本地DNS服务器收到IP信息后，将会联系负责.com域的这个服务器。这台负责.com域的服务器收到请求后，如果自己无法解析，它就会找一个管理.com域的下一级DNS服务器地址(baidu.com)给本地DNS服务器。当本地DNS服务器收到这个地址后，就会查找baidu.com域服务器，重复上面的动作，进行查询，直到找到www.baidu.com主机
6. 如果设置了转发模式，此DNS服务器就会把请求转发至上一级服务器，由上一级服务器进行解析，上一级服务器如果不能解析，或找根DNS或把请求转至上上级，依次循环。不管是本地DNS服务器转发，还是根DNS，最后都会把结果返回给本地DNS服务器，由此DNS服务器再返回给客户端

#### 浏览器输入www.baidu.com后的执行过程

域名解析->建立TCP连接->发起http请求->服务器响应http请求，浏览器得到html代码->浏览器解析html代码，并请求html代码中的资源(js、css、图片等等)->浏览器对页面进行渲染呈现给用户

---



### IP地址分类

 IP地址由两部分组成，即网络地址和主机地址。网络地址表示其属于互联网的哪一个网络，主机地址表示其属于该网络中的哪一台主机

![image-20220521232341510](https://pic-typora-qc.oss-cn-chengdu.aliyuncs.com/network_img/202205212323568.png)

A类：（1.0.0.0 ——126.0.0.0）一般用于大型网络

B类：（128.0.0.0-191.255.0.0）

C类：（192.0.0.0-223.255.255.0)

D类：是多播地址，地址的网络号取值为224~239，一般用于多路广播用户

E类：保留地址，地址的网络号取值为240~255



---

### HTTP协议

http协议是超文本传输协议，它是基于TCP协议的应用层协议，即客户端和服务器进行数据传输的一种规则。该协议是一种无状态的协议

#### 转发和重定向的区别

转发：是服务器的行为。服务器直接向目标地址访问URL，将相应的内容读取之后发给客户端浏览器，用户浏览器地址栏Url不变，转发页面和转发到的页面可以共享request里面的数据

重定向：利用服务器返回的状态码实现的，如果服务器返回301、302，浏览器收到消息后自动跳转到新的网址重新请求资源。用户的地址栏Url会发生改变，而且不能共享数据











