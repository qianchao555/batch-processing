### 创建型（5）（抽象工厂、单例 最重要）

#### 1、单例

##### 饿汉

后三种推荐使用：枚举、双重检查、静态内部类(推荐顺序)

##### 双重检查懒汉

##### 静态内部类

##### 枚举

**注意**

1. 实例化对象时，必须使用相应的获取对象的方法，而不是通过new形式来创建

**优势**

1. 节约了系统资源、可以提高系统的性能

**场景**

1. 频繁进行创建和销毁的对象
2. 创建对象时耗时过多或耗费资源过多(重量级对象)
   - 工具类对象、文件对象、数据源、session工厂等

---



#### 2、工厂模式

1. 简单工厂模式 也叫：静态工厂模式
   - 由一个工厂对象决定创建出哪一种产品类的实例
   - 这个类封装实例化对象的行为(代码)
   - 需要大量的创建某种、某类或某批对象时，可以使用工厂模式
   - 优点：
     - **工厂类含有必要的判断逻辑**，可以决定在什么时候创建哪一个产品类的实例，客户端可以免除直接创建产品对象的责任，而仅仅“消费”产品
     - 客户端无须知道所创建的具体产品类的类名，只需要知道具体产品类**所对应的参数**即可
   - **缺点**：违背开闭原则。新建某一类时，需要改动工厂里面的判断类型
2. 工厂方法模式 也叫：多态工厂模式
   - 核心：对象的实例化推迟到子类
   - 工厂方法模式的意义在于**定义一个创建产品对象的工厂接口，将实际创建工作推迟到子类当中**。核心工厂类不再负责产品的创建，仅负责声明具体工厂子类必须实现的接口。这样进一步抽象化的好处是使得工厂方法模式可以使系统在不修改具体工厂角色的情况下引进新的产品
   - 每添加一个具体对象只需要添加一个对应的具体工厂对象，原有工厂对象不需要进行任何修改，很好的符合了“开放-关闭”原则
   - 缺点：抽象产品只能生产一种产品，，此弊端可使用抽象工厂模式解决

---



#### 3、抽象工厂

1. 围绕一个超级工厂创建其他工厂，该超级工厂又称为其他工厂的工厂。，它提供了一种创建对象的最佳方式
2. 抽象工厂接口是负责创建一个相关对象的工厂，不需要显式指定它们的类。每个生成的工厂都能按照工厂模式提供对象
3. 组成内容
   1. 抽象工厂接口：里面聚合多个产品(抽象产品)   每一个产品有一个产品工厂
   2. 抽象产品
   3. 产品工厂：
      - 具体某一类工厂-》实现抽象工厂
      - 生成具体的产品、工厂里面可以生产多种类型的产品
   4. 具体产品：具体类：实现抽象产品
   5. 工厂创建器：用于生成具体的某一个产品工厂，可以生成具体类型的工厂

---



#### 4、原型模式

1. 含义：用原型实例(最初的一个实例)指定创建对象的种类，并且通过拷贝这些原型，创建新的对象

2. 工作原理：将一个原型对象，传给发起创建的对象，这个发起创建的对象通过请求原型对象，拷贝它们自己来实施创建。即：对象.Clone()

3. 创建重复的对象，同时又能保证性能

4. ~~~java
   Prototype原型类
   prototype.clone()-> prototype1 具体的原型类
   prototype.clone()-> prototype2 具体的原型类
   ~~~

5. Spring中使用到了原型模式

   - getBean   <= 创建Bean的方式  scope配置创建bean的方式

6. 深浅拷贝

   - 浅拷贝：对于基本类型进行的复制值操作，引用类型是进行的地址拷贝操作 即：引用指向的还是原来的对象

   - 深拷贝：引用类型是进行的是对象拷贝操作 即：引用指向的新拷贝的对象

---



#### 5、建造者模式(生成器模式、Builder)

1. 意义：将一个复杂对象的构建与其表示分离，使得同样的构建过程可以创建不同的表示

2. 该模式会将对象构造过程划分为一组步骤，无需调用所有步骤，只需要调用创建特定对象配置所需的那些步骤即可

3. 使用场景：

   - **当一个类的构造函数参数个数超过4个，而且这些参数有些是可选的参数，考虑使用构造者模式**
   - 不适合 创建差异性很大的产品类

4. 结构

   ~~~
   通用生成器：声明在所有类型生成器中通用的产品构造步骤
   具体生成器：提供构造过程的不同实现。具体生成器可以构造不遵循通用接口的产品
   产品：最终生成的对象
   主管类：定义调用构造步骤的顺序
   客户端：将某个生成器对象与主管类关联
   ~~~

   

---



### 结构型（7）(适、装、代、外)

#### 适配器模式

#### 桥接模式

#### 装饰模式

#### 组合模式

#### 外观模式

#### 享元模式

#### 代理模式

### 行为型（11）(策略、观察者、模板、责任链、状态)

#### 观察者模式

#### 迭代器模式

#### 策略模式

#### 责任链模式

#### 状态模式

#### 解释器模式

#### 访问者模式

#### 命令模式

#### 模板方法模式

#### 中介者模式

#### 备忘录模式

